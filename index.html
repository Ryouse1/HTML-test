<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Scratch風 JSON エディタ（Web版）</title>
<style>
body {
    margin: 0;
    padding: 16px;
    background-color: #000000;
    color: #FFFFFF;
    font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif;
}

h2 {
    color: white;
    margin-bottom: 12px;
}

/* レイアウト */
.container {
    display: flex;
    gap: 16px;
}

/* JSON入力欄 */
textarea {
    flex: 1;
    height: 300px;
    background-color: #000000;  /* 黒背景 */
    color: #FFFFFF;             /* 白文字 */
    border: 1px solid #444;
    font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 14px;
    line-height: 1.4;          /* TextArea とプレビューを近づける */
    letter-spacing: normal;     /* 文字間隔を揃える */
    padding: 12px;
    resize: none;
    overflow: auto;
}

/* プレビュー */
pre {
    flex: 1;
    background-color: #000000;
    color: #FFFFFF;
    padding: 12px;
    border: 1px solid #444;
    white-space: pre-wrap;
    word-break: break-word;
    font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 14px;
    line-height: 1.4;
    letter-spacing: normal;
    overflow: auto;
}

/* JSONカラー */
.key { color: #4FC3F7; }       /* 青系 */
.string { color: #C3E88D; }    /* 緑系 */
.number { color: #FFCB6B; }    /* 黄系 */
.boolean { color: #F78C6C; }   /* オレンジ系 */
.null { color: #9E9E9E; }      /* グレー系 */
</style>
</head>
<body>

<h2>Scratch風 JSON エディタ（Web版）</h2>

<div class="container">
    <textarea id="jsonInput">{
  "website": "scratch.mit.edu",
  "api": "api.scratch.mit.edu",
  "help": "help@scratch.mit.edu",
  "version": 3,
  "active": true,
  "nullValue": null
}</textarea>

    <pre id="jsonView"></pre>
</div>

<script>
// JSON → HTML に変換してカラー付け
function highlightJSON(json) {
    let str = json
        .replace(/&(?!amp;)/g, '&amp;')   // & をエスケープ
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;');
    str = str
        .replace(/"(.*?)":/g, '<span class="key">"$1"</span>:')         // キー
        .replace(/: "(.*?)"/g, ': <span class="string">"$1"</span>')   // 文字列
        .replace(/: (\d+\.?\d*)/g, ': <span class="number">$1</span>') // 数値
        .replace(/: (true|false)/g, ': <span class="boolean">$1</span>') // 真偽値
        .replace(/: (null)/g, ': <span class="null">$1</span>');       // null
    return str;
}

// 初期表示
const textarea = document.getElementById("jsonInput");
const pre = document.getElementById("jsonView");
pre.innerHTML = highlightJSON(textarea.value);

// リアルタイム更新
textarea.addEventListener("input", () => {
    pre.innerHTML = highlightJSON(textarea.value);
});
</script>

</body>
</html>
